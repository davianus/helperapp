<ion-view view-title="{{title}}">
  <ion-nav-buttons side="right">
    <button class="button button-clear button-positive" ng-cloak ng-click="create()" ng-show="showCreate">
      Create
    </button>
  </ion-nav-buttons>
  <ion-content>
    <ion-list>
      <ion-item ng-repeat="need in needs" ng-click="show(need)">
        <span ng-repeat="tag in need.tags" class="entryTitle">{{tag}}{{$last ? '' : ', '}}</span><br/>
		<span>Amount required: {{need.amount - need.amountDone}}</span><br/>
		<span>Requested by: {{need.user.username}}</span>
        <ion-option-button class="button-positive" ng-click="editNeed(need)">Edit</ion-option-button>
        <ion-option-button class="button-assertive" ng-click="deleteNeed(need)">Delete</ion-option-button>
      </ion-item>
      <ion-item ng-repeat="fulfillment in fulfillments" ng-click="showFulfillment(fulfillment)">
        <span ng-repeat="tag in fulfillment.request.tags" class="entryTitle">{{tag}}{{$last ? '' : ', '}}</span><br/>
        <span>Amount required: {{fulfillment.amount}}</span><br/>
        <span>Until: {{fulfillment.until| date:'short'}}</span><br/>
        <span>Requested by: {{fulfillment.request.user.username}}</span>

      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
